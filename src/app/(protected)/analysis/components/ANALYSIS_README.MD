# üè∑Ô∏è TaggerLPL - Framework de M√©triques Modulaires

## üìã Vue d'ensemble du Framework

TaggerLPL impl√©mente un **framework unifi√© de m√©triques modulaires** pour l'analyse conversationnelle et linguistique interactionnelle. L'architecture permet la comparaison scientifique d'algorithmes multiples sur les m√™mes donn√©es, avec validation crois√©e AC-LI-Cognitif.

### üéØ Objectifs du Framework

- ‚úÖ **Architecture modulaire** : Indicateurs comparables et algorithmes interchangeables
- ‚úÖ **Validation scientifique** : M√©triques de performance, annotation experte, convergence
- ‚úÖ **Interface comparative** : Visualisation c√¥te-√†-c√¥te des r√©sultats d'algorithmes
- üîÑ **Machine Learning supervis√©** : Entra√Ænement de mod√®les avec annotations expertes
- üîÑ **Validation crois√©e** : Tests de convergence AC-LI-Cognitif automatis√©s

## üèóÔ∏è Architecture du Framework

### Structure g√©n√©rale

```
src/app/(protected)/analysis/components/
‚îú‚îÄ‚îÄ üìÇ metrics-framework/       # üîß FRAMEWORK COMMUN (√† impl√©menter)
‚îú‚îÄ‚îÄ üìÇ li-metrics/             # üó£Ô∏è LINGUISTIQUE INTERACTIONNELLE
‚îú‚îÄ‚îÄ üìÇ cognitive-metrics/      # üß† SCIENCES COGNITIVES
‚îî‚îÄ‚îÄ üìÇ shared/                 # üîó COMPOSANTS PARTAG√âS
```

### Framework de m√©triques modulaires (Planifi√©)

```
metrics-framework/                      # üîß FRAMEWORK COMMUN
‚îú‚îÄ‚îÄ üìÇ core/
‚îÇ   ‚îú‚îÄ‚îÄ MetricsRegistry.ts              # Registre universel d'indicateurs
‚îÇ   ‚îú‚îÄ‚îÄ BaseIndicator.ts                # Classe de base pour tous indicateurs
‚îÇ   ‚îú‚îÄ‚îÄ AlgorithmStrategy.ts            # Interface strat√©gies d'algorithmes
‚îÇ   ‚îú‚îÄ‚îÄ MetricsEngine.ts                # Moteur de calcul unifi√©
‚îÇ   ‚îú‚îÄ‚îÄ ValidationEngine.ts             # Moteur de validation convergence
‚îÇ   ‚îî‚îÄ‚îÄ types/
‚îÇ       ‚îú‚îÄ‚îÄ base.ts                     # Types fondamentaux
‚îÇ       ‚îú‚îÄ‚îÄ indicators.ts               # Types pour indicateurs
‚îÇ       ‚îú‚îÄ‚îÄ algorithms.ts               # Types pour algorithmes
‚îÇ       ‚îú‚îÄ‚îÄ results.ts                  # Types pour r√©sultats
‚îÇ       ‚îî‚îÄ‚îÄ annotations.ts              # Types pour syst√®me d'annotation
‚îÇ
‚îú‚îÄ‚îÄ üìÇ hooks/
‚îÇ   ‚îú‚îÄ‚îÄ useMetricsEngine.ts             # Hook principal unifi√©
‚îÇ   ‚îú‚îÄ‚îÄ useIndicatorRegistry.ts         # Gestion registre dynamique
‚îÇ   ‚îú‚îÄ‚îÄ useAlgorithmBenchmarking.ts     # Syst√®me de benchmarking
‚îÇ   ‚îú‚îÄ‚îÄ useAnnotationWorkflow.ts        # Workflow annotation supervis√©e
‚îÇ   ‚îú‚îÄ‚îÄ useConvergenceValidation.ts     # Validation crois√©e AC-LI-Cognitif
‚îÇ   ‚îú‚îÄ‚îÄ useMetricsByFamily.ts           # Analyse par famille de strat√©gies
‚îÇ   ‚îú‚îÄ‚îÄ useMLTraining.ts                # Entra√Ænement mod√®les ML
‚îÇ   ‚îî‚îÄ‚îÄ usePerformanceMonitoring.ts     # Monitoring temps r√©el
‚îÇ
‚îú‚îÄ‚îÄ üìÇ components/
‚îÇ   ‚îú‚îÄ‚îÄ MetricIndicatorCard.tsx         # Carte d'indicateur universelle
‚îÇ   ‚îú‚îÄ‚îÄ AlgorithmComparisonView.tsx     # Comparaison algorithmes ligne par ligne
‚îÇ   ‚îú‚îÄ‚îÄ AnnotationInterface.tsx         # Interface annotation experte
‚îÇ   ‚îú‚îÄ‚îÄ BenchmarkDashboard.tsx          # Dashboard performance comparative
‚îÇ   ‚îú‚îÄ‚îÄ ValidationDashboard.tsx         # Dashboard validation convergence
‚îÇ   ‚îú‚îÄ‚îÄ ConvergenceVisualization.tsx    # Graphiques convergence
‚îÇ   ‚îî‚îÄ‚îÄ MLTrainingInterface.tsx         # Interface entra√Ænement ML
‚îî‚îÄ‚îÄ üìÇ utils/
    ‚îú‚îÄ‚îÄ dataPreprocessing.ts            # Pr√©processing donn√©es Supabase
    ‚îú‚îÄ‚îÄ featureExtraction.ts            # Extraction features ML
    ‚îú‚îÄ‚îÄ algorithmValidation.ts          # Validation et m√©triques qualit√©
    ‚îî‚îÄ‚îÄ mlHelpers.ts                    # Helpers ML/NLP
```

## üó£Ô∏è Domaine LI (Linguistique Interactionnelle)

### √âtat d'impl√©mentation

```
li-metrics/                             # üó£Ô∏è LINGUISTIQUE INTERACTIONNELLE
‚îú‚îÄ‚îÄ üìÇ indicators/
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ FeedbackAlignmentIndicator/  # ‚úÖ IMPL√âMENT√â
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ algorithms/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BasicAlignmentAlgorithm.ts          # ‚úÖ Analyse s√©mantique lexicale
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ConversationalPatternAlgorithm.ts   # üöÄ NOUVEAU (analyse structurelle)
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SequentialPatternAlgorithm.ts       # üîÑ √Ä IMPL√âMENTER (multi-paires)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useFeedbackAlignmentMetrics.ts      # ‚úÖ Hook complet multi-algorithmes
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useFeedbackAlignmentAnnotation.ts   # üîÑ √Ä IMPL√âMENTER
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FeedbackAlignmentInterface.tsx          # ‚úÖ Interface compl√®te comparative
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types.ts                                # ‚úÖ Types complets + extensions CA
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ CommonGroundIndicator/       # üîÑ √Ä IMPL√âMENTER
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ BackchannelsIndicator/       # üîÑ √Ä IMPL√âMENTER
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ ProsodicFluencyIndicator/    # üîÑ √Ä IMPL√âMENTER
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ SpeechRateIndicator/         # üîÑ √Ä IMPL√âMENTER
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ SequentialPatternsIndicator/ # üîÑ √Ä IMPL√âMENTER
‚îÇ   ‚îî‚îÄ‚îÄ üìÇ RepairMechanismsIndicator/   # üîÑ √Ä IMPL√âMENTER
‚îÇ
‚îú‚îÄ‚îÄ LIMetricsConfig.ts                  # üîÑ √Ä IMPL√âMENTER
‚îú‚îÄ‚îÄ LIMetricsRegistry.ts                # üîÑ √Ä IMPL√âMENTER
‚îî‚îÄ‚îÄ LinguisticInteractionalMetrics.tsx  # üîÑ √Ä IMPL√âMENTER
```

## üß† Domaine Cognitive (Sciences Cognitives)

### √âtat d'impl√©mentation

```
cognitive-metrics/                      # üß† SCIENCES COGNITIVES
‚îú‚îÄ‚îÄ üìÇ indicators/
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ FluiditeCognitiveIndicator/  # ‚úÖ EXISTANT (√† migrer vers framework)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ algorithms/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BasicFluidityAlgorithm.ts       # üîÑ √Ä MIGRER (existant en hook)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ NeuronMirrorAlgorithm.ts        # üîÑ √Ä IMPL√âMENTER
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MLEnhancedAlgorithm.ts          # üîÑ √Ä IMPL√âMENTER
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useFluiditeCognitiveMetrics.ts  # üîÑ √Ä CR√âER (migration)
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useFluidityAnnotation.ts        # üîÑ √Ä IMPL√âMENTER
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FluiditeCognitiveInterface.tsx      # üîÑ √Ä CR√âER
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types.ts                            # üîÑ √Ä CR√âER
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ ReactionsDirectesIndicator/  # ‚úÖ EXISTANT (√† migrer)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ algorithms/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BasicReactionsAlgorithm.ts      # üîÑ √Ä MIGRER
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ContextualReactionsAlgorithm.ts # üîÑ √Ä IMPL√âMENTER
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ... (m√™me structure)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ ReprisesLexicalesIndicator/  # ‚úÖ EXISTANT (√† migrer)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ algorithms/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BasicReprisesAlgorithm.ts       # üîÑ √Ä MIGRER
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SemanticReprisesAlgorithm.ts    # üîÑ √Ä IMPL√âMENTER
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ... (m√™me structure)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ ChargeCognitiveIndicator/    # ‚úÖ EXISTANT (√† migrer)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ algorithms/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BasicChargeAlgorithm.ts         # üîÑ √Ä MIGRER
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MultiFactorChargeAlgorithm.ts   # üîÑ √Ä IMPL√âMENTER
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ... (m√™me structure)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ MarqueursEffortIndicator/    # ‚úÖ EXISTANT (√† migrer)
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ PatternsResistanceIndicator/ # ‚úÖ EXISTANT (√† migrer)
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ RobustesseStressIndicator/   # ‚úÖ EXISTANT (√† migrer)
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ NiveauStressIndicator/       # ‚úÖ EXISTANT (√† migrer)
‚îÇ   ‚îî‚îÄ‚îÄ üìÇ PositionConversationIndicator/ # ‚úÖ EXISTANT (√† migrer)
‚îÇ
‚îú‚îÄ‚îÄ CognitiveMetricsConfig.ts           # üîÑ √Ä CR√âER
‚îú‚îÄ‚îÄ CognitiveMetricsRegistry.ts         # üîÑ √Ä CR√âER
‚îú‚îÄ‚îÄ CognitiveMetrics.tsx                # ‚úÖ EXISTANT (√† adapter au framework)
‚îÇ
‚îî‚îÄ‚îÄ üìÇ migration/                       # üîÑ OUTILS DE MIGRATION
    ‚îú‚îÄ‚îÄ adaptUseCognitiveMetrics.ts     # Adaptation hook existant
    ‚îú‚îÄ‚îÄ adaptIndicatorData.ts           # Migration donn√©es existantes
    ‚îú‚îÄ‚îÄ compatibilityLayer.ts           # Couche compatibilit√©
    ‚îî‚îÄ‚îÄ migrationGuide.md               # Guide migration step-by-step
```

### üîÑ √âtat actuel des m√©triques cognitives

#### **‚úÖ Impl√©mentation existante (hors framework)**

**Localisation actuelle** : `app/(protected)/analysis/components/CognitiveMetrics.tsx`

**Hook existant** : `useCognitiveMetrics.ts`

```typescript
// Structure actuelle (√† migrer)
export const useCognitiveMetrics = (data: TaggedTurn[]) => {
  return {
    // Indicateurs existants
    fluiditeCognitive: FluiditeScore,
    reactionsDirectes: ReactionsScore,
    reprisesLexicales: ReprisesScore,
    chargeCognitive: ChargeScore,
    marqueursEffort: EffortScore,
    patternsResistance: ResistanceScore,
    robustesseStress: StressScore,
    niveauStress: StressLevelScore,
    positionConversation: PositionScore,

    // M√©triques globales
    scoreGlobalCognitif: number,
    tendancesEvolution: TrendAnalysis,
  };
};
```

#### **üìä Indicateurs cognitifs op√©rationnels**

1. **‚úÖ Fluidit√© Cognitive** - Mesure de la spontan√©it√© conversationnelle
   - D√©tection des h√©sitations, pauses, reformulations
   - Score bas√© sur la fluidit√© du discours conseiller
2. **‚úÖ R√©actions Directes** - Vitesse de r√©action aux interventions client
   - Temps de latence entre tour client et r√©ponse conseiller
   - Analyse de la r√©activit√© conversationnelle
3. **‚úÖ Reprises Lexicales** - R√©utilisation du vocabulaire client
   - D√©tection des mots/expressions repris du client
   - Mesure de l'adaptation linguistique
4. **‚úÖ Charge Cognitive** - Complexit√© du traitement conversationnel
   - Longueur des tours, complexit√© syntaxique
   - Indicateurs de surcharge cognitive
5. **‚úÖ Marqueurs d'Effort** - Signes de difficult√© conversationnelle
   - D√©tection "euh", "ben", pauses longues
   - Quantification de l'effort conversationnel
6. **‚úÖ Patterns de R√©sistance** - D√©tection des blocages conversationnels
   - R√©p√©titions, reformulations multiples
   - Patterns de difficult√©s r√©currentes
7. **‚úÖ Robustesse au Stress** - Maintien de la performance sous pression
   - Stabilit√© des m√©triques dans contextes difficiles
   - R√©silience conversationnelle
8. **‚úÖ Niveau de Stress** - Intensit√© du stress conversationnel
   - Combinaison de marqueurs physiologiques linguistiques
   - Score global de tension
9. **‚úÖ Position dans la Conversation** - √âvolution temporelle des m√©triques
   - Tendances d√©but/milieu/fin de conversation
   - Patterns d'√©volution cognitive

### ‚úÖ FeedbackAlignmentIndicator - Statut Complet avec Nouvelle Strat√©gie

**Localisation** : `li-metrics/indicators/FeedbackAlignmentIndicator/`

#### **üöÄ Innovation Algorithmique : Approche Scientifique Bi-Dimensionnelle**

**R√©vision strat√©gique** : Abandon de l'approche `SentimentEnhancedAlgorithm` (redondante lexicalement) au profit du `ConversationalPatternAlgorithm` (innovation structurelle).

#### **Fonctionnalit√©s op√©rationnelles** :

**‚úÖ BasicAlignmentAlgorithm.ts** - Moteur d'analyse s√©mantique lexicale

- **Paradigme** : Analyse de sentiment par correspondance lexicale
- **M√©thode** : 145 patterns fran√ßais (POSITIF/NEGATIF/NEUTRE)
- **Unit√© d'analyse** : Mots et expressions isol√©s
- **Output** : Score de sentiment (-1 √† +1) avec confidence
- **Couverture** : 72% des verbatims (1006/1397 analysables)

**üöÄ ConversationalPatternAlgorithm.ts** - NOUVEAU : Moteur d'analyse structurelle

- **Paradigme** : Conversation Analysis et paires adjacentes
- **M√©thode** : Analyse structurelle des patterns conseiller‚Üíclient
- **Unit√© d'analyse** : Paires adjacentes et coh√©rence pragmatique
- **Output** : Types d'alignment (STRONG_AGREEMENT, QUALIFIED_AGREEMENT, etc.)
- **Innovation** : Premi√®re impl√©mentation computationnelle de la CA

**üìä Justification Scientifique** :

- **Fondement th√©orique** : Schegloff & Sacks (1973) - Adjacency Pairs
- **Application** : Drew & Heritage (1992) - Professional Interaction
- **Diff√©renciation** : Lexical (sentiment) vs Structurel (alignment)
- **Compl√©mentarit√©** : Deux dimensions d'analyse ind√©pendantes

#### **üß† Types d'Analyses Structurelles D√©tect√©es** :

```typescript
enum AlignmentType {
  STRONG_AGREEMENT = "strong_agreement", // "Exactement !", "C'est √ßa !"
  QUALIFIED_AGREEMENT = "qualified_agreement", // "Oui mais...", "En partie"
  COOPERATIVE_RESISTANCE = "cooperative_resistance", // "Je ne sais pas si..."
  DISALIGNMENT = "disalignment", // "Non", "Pas du tout"
}

enum PragmaticFunction {
  VALIDATE = "validate", // REFLET ‚Üí Attente de confirmation
  EXPLORE = "explore", // ENGAGEMENT ‚Üí Attente d'√©laboration
  INFORM = "inform", // EXPLICATION ‚Üí Attente de compr√©hension
  REDIRECT = "redirect", // OUVERTURE ‚Üí Attente de suivi
}
```

#### **üîç Interface Multi-Algorithmes Enrichie**

**‚úÖ FeedbackAlignmentInterface.tsx** - Interface comparative compl√®te

- **Mode Simple** : Analyse avec un seul algorithme (Basic OU ConversationalPattern)
- **Mode Comparaison** : Analyse c√¥te-√†-c√¥te avec m√©triques diff√©rentielles
- **S√©lecteurs** : Algorithme + Mode d'analyse + Origine
- **Visualisations** : Tableaux comparatifs, m√©triques de convergence, recommendations
- **Export** : R√©sultats + m√©thodologie pour insertion th√®se

#### **üéØ Hook Multi-Algorithmes**

**‚úÖ useFeedbackAlignmentMetrics.ts** - Hook enrichi

- **Configuration** : Support multi-algorithmes avec comparaison
- **APIs** : `runSingleAlgorithm()`, `runAlgorithmComparison()`, `generateRecommendations()`
- **Caching** : Optimisations de performance avec invalidation intelligente
- **Compatibilit√©** : Interface existante pr√©serv√©e + extensions

#### **üìä R√©sultats Scientifiques Valid√©s** :

**BasicAlgorithm (Sentiment Lexical)** :

```
üìä Efficacit√© par strat√©gie (analyse de 1397 tours) :
ü•á OUVERTURE:    48.3% verbatims positifs (175 occurrences)
ü•à ENGAGEMENT:   34.5% verbatims positifs (182 occurrences)
ü•â REFLET:       18.2% verbatims positifs (444 occurrences)
‚ùå EXPLICATION:   1.0% verbatims positifs (596 occurrences)

‚úÖ Hypoth√®ses valid√©es : H1 (ACTION > EXPLICATION), H2 (EXPLICATION inefficace)
```

**ConversationalPattern (Alignment Structurel)** :

```
üß† Patterns d'alignment d√©tect√©s :
- STRONG_AGREEMENT: Corr√©lation avec satisfaction client √©lev√©e
- QUALIFIED_AGREEMENT: Pattern dominant pour strat√©gies REFLET
- COOPERATIVE_RESISTANCE: Signal d'optimisation n√©cessaire
- DISALIGNMENT: Pr√©dicateur d'√©chec conversationnel

üéØ Coh√©rence Pragmatique :
- VALIDATE (REFLET) ‚Üí Confirmation attendue vs re√ßue
- EXPLORE (ENGAGEMENT) ‚Üí √âlaboration attendue vs re√ßue
- INFORM (EXPLICATION) ‚Üí Compr√©hension attendue vs re√ßue
```

#### **üîÑ Comparaison Algorithmique** :

| Dimension        | BasicAlgorithm          | ConversationalPattern      |
| ---------------- | ----------------------- | -------------------------- |
| **Paradigme**    | Sentiment Analysis      | Conversation Analysis      |
| **M√©thode**      | Correspondance lexicale | Analyse structurelle       |
| **Mesure**       | Polarit√© √©motionnelle   | Coh√©rence pragmatique      |
| **Pr√©dictif**    | Sentiment futur         | Efficacit√© strat√©gique     |
| **Optimisation** | Lexique positif         | Patterns conversationnels  |
| **Innovation**   | √âtabli                  | Premi√®re impl√©mentation CA |

#### **üöÄ Prochaines √âtapes (Priorit√© Imm√©diate)** :

1. **ConversationalPatternAlgorithm.ts** - Impl√©mentation compl√®te
   - Types d'alignment et marqueurs structurels
   - Coh√©rence pragmatique par famille de strat√©gies
   - M√©triques de validation avec BasicAlgorithm
2. **Interface Comparative** - Mode comparaison op√©rationnel
   - Vue c√¥te-√†-c√¥te Sentiment vs Alignment
   - M√©triques de convergence et divergence
   - Recommandations d'optimisation conversationnelle
3. **Export Th√®se** - Documentation scientifique
   - Tableaux LaTeX de comparaison algorithmique
   - Graphiques de performance diff√©rentielle
   - Justification m√©thodologique (CA vs Sentiment Analysis)

## üîó Composants Partag√©s

### √âtat d'impl√©mentation

```
shared/                                 # üîó COMPOSANTS PARTAG√âS
‚îú‚îÄ‚îÄ üìÇ atoms/                          # ‚öõÔ∏è COMPOSANTS ATOMIQUES
‚îÇ   ‚îú‚îÄ‚îÄ IndicatorHeader.tsx            # ‚úÖ IMPL√âMENT√â
‚îÇ   ‚îú‚îÄ‚îÄ ColorLegend.tsx                # ‚úÖ IMPL√âMENT√â
‚îÇ   ‚îú‚îÄ‚îÄ AlgorithmDetailDialog.tsx      # ‚úÖ IMPL√âMENT√â
‚îÇ   ‚îî‚îÄ‚îÄ [autres atoms...]              # üîÑ √Ä IMPL√âMENTER
‚îÇ
‚îú‚îÄ‚îÄ üìÇ molecules/                      # üß¨ COMPOSANTS MOL√âCULAIRES
‚îÇ   ‚îú‚îÄ‚îÄ ResultsTable.tsx               # ‚úÖ IMPL√âMENT√â
‚îÇ   ‚îú‚îÄ‚îÄ AlgorithmLogicExplanation.tsx  # ‚úÖ IMPL√âMENT√â (avec lexiques)
‚îÇ   ‚îú‚îÄ‚îÄ AlgorithmComparisonView.tsx    # üöÄ NOUVEAU (comparaison algorithmes)
‚îÇ   ‚îú‚îÄ‚îÄ types.ts                       # ‚úÖ ExtendedAlgorithmLogicProps
‚îÇ   ‚îî‚îÄ‚îÄ [autres molecules...]          # üîÑ √Ä IMPL√âMENTER
‚îÇ
‚îú‚îÄ‚îÄ üìÇ hooks/                          # ü™ù HOOKS PARTAG√âS
‚îÇ   ‚îú‚îÄ‚îÄ useAlgorithmDialog.ts          # ‚úÖ IMPL√âMENT√â
‚îÇ   ‚îú‚îÄ‚îÄ useAlgorithmComparison.ts      # üöÄ NOUVEAU (comparaison multi-algo)
‚îÇ   ‚îî‚îÄ‚îÄ [autres hooks...]              # üîÑ √Ä IMPL√âMENTER
‚îÇ
‚îî‚îÄ‚îÄ üìÇ utils/                          # üõ†Ô∏è UTILITAIRES PARTAG√âS
    ‚îú‚îÄ‚îÄ conversationAnalysisHelpers.ts # üöÄ NOUVEAU (utilitaires CA)
    ‚îî‚îÄ‚îÄ [utils...]                     # üîÑ √Ä IMPL√âMENTER
```

#### **‚úÖ AlgorithmLogicExplanation** - Composant enrichi

**Fonctionnalit√©s op√©rationnelles** :

- Interface multicouche pour affichage des lexiques
- Dialog "Vue d√©taill√©e" avec scrolling optimis√©
- Cartes interactives par sentiment avec animations
- Support types √©tendus (`ExtendedAlgorithmLogicProps`)
- Composants factoris√©s (`LexiconCategory`, `DetailedLexicon`)

#### **üöÄ AlgorithmComparisonView** - Nouveau composant

**Fonctionnalit√©s planifi√©es** :

- Comparaison c√¥te-√†-c√¥te des r√©sultats algorithmiques
- M√©triques de convergence et divergence
- Visualisations des diff√©rences structurelles
- Recommandations d'optimisation

## üìä Centre d'Analyse

### Page principale

**Localisation** : `app/(protected)/analysis/page.tsx`

```typescript
// Structure actuelle enrichie
export default function AnalysisPage() {
  return (
    <AnalysisLayout>
      <Box sx={{ display: "flex", flexDirection: "column", gap: 3 }}>
        {/* ‚úÖ Onglet Feedback Alignment - OP√âRATIONNEL MULTI-ALGORITHMES */}
        <FeedbackAlignmentInterface
          selectedOrigin={selectedOrigin}
          showDetailedResults={true}
          showComparison={true} // üöÄ NOUVEAU : Mode comparaison activ√©
          initialAlgorithm="basic" // ou "conversational-pattern"
        />
        {/* üîÑ Onglets √† impl√©menter */}
        <CommonGroundInterface /> {/* √Ä IMPL√âMENTER */}
        <BackchannelsInterface /> {/* √Ä IMPL√âMENTER */}
        <CognitiveMetricsInterface /> {/* √Ä MIGRER */}
      </Box>
    </AnalysisLayout>
  );
}
```

## üóÑÔ∏è Base de Donn√©es

### Tables existantes (utilis√©es)

```sql
-- ‚úÖ Donn√©es conversationnelles (op√©rationnelles)
turntagged (
  id INTEGER PRIMARY KEY,
  call_id INTEGER,
  start_time FLOAT,
  end_time FLOAT,
  tag TEXT,                    -- ‚úÖ Strat√©gie conseiller (analys√©e par CA)
  verbatim TEXT,               -- ‚úÖ Analys√© par moteur s√©mantique
  next_turn_verbatim TEXT,     -- ‚úÖ Verbatim client (analys√© par CA + sentiment)
  next_turn_tag TEXT,
  speaker TEXT                 -- ‚úÖ Distinction conseiller/client pour CA
);

-- ‚úÖ Tags et familles (op√©rationnels)
lpltag (
  id INTEGER PRIMARY KEY,
  label TEXT,
  family TEXT,                -- ‚úÖ CL√â pour analyse par famille + fonctions pragmatiques
  originespeaker TEXT,        -- conseiller/client
  color TEXT,
  description TEXT
);

-- ‚úÖ Appels (op√©rationnels)
call (
  callid TEXT PRIMARY KEY,
  filename TEXT,
  filepath TEXT,
  origine TEXT,               -- ‚úÖ Filtre par origine
  duree INTEGER,
  is_tagging_call BOOLEAN,
  preparedfortranscript BOOLEAN
);
```

### üîÑ Tables Framework (√† impl√©menter)

```sql
-- üîÑ Syst√®me d'annotation unifi√©
CREATE TABLE metric_annotations (
  id SERIAL PRIMARY KEY,
  turn_id INTEGER REFERENCES turntagged(id),
  domain TEXT NOT NULL,              -- 'li' | 'cognitive'
  indicator_id TEXT NOT NULL,        -- 'feedback_alignment', 'common_ground'
  algorithm_id TEXT NOT NULL,        -- 'basic', 'conversational-pattern'
  human_label TEXT NOT NULL,         -- Annotation experte
  algorithm_prediction TEXT,         -- Pr√©diction algorithme
  algorithm_confidence FLOAT,        -- Confiance (0-1)
  annotator_id TEXT NOT NULL,
  created_at TIMESTAMP DEFAULT NOW()
);

-- üîÑ Performance algorithmes
CREATE TABLE algorithm_performance (
  id SERIAL PRIMARY KEY,
  domain TEXT NOT NULL,
  indicator_id TEXT NOT NULL,
  algorithm_id TEXT NOT NULL,        -- 'basic' | 'conversational-pattern'
  accuracy FLOAT,
  precision FLOAT,
  recall FLOAT,
  f1_score FLOAT,
  processing_time_ms INTEGER,
  convergence_rate FLOAT,            -- Taux de convergence avec autres algorithmes
  test_date TIMESTAMP DEFAULT NOW()
);

-- üîÑ Validation crois√©e Sentiment-Alignment
CREATE TABLE sentiment_alignment_correlations (
  id SERIAL PRIMARY KEY,
  validation_date TIMESTAMP DEFAULT NOW(),
  pearson_correlation FLOAT,        -- Corr√©lation sentiment/alignment
  spearman_correlation FLOAT,       -- Corr√©lation rang sentiment/alignment
  agreement_rate FLOAT,             -- Taux d'accord classification
  divergence_patterns TEXT,         -- Patterns de divergence d√©tect√©s
  recommendations TEXT              -- Recommandations d'usage
);

-- üîÑ Validation crois√©e AC-LI-Cognitif
CREATE TABLE convergence_validations (
  id SERIAL PRIMARY KEY,
  validation_date TIMESTAMP DEFAULT NOW(),
  kendall_tau_ac_li FLOAT,
  kendall_tau_ac_cognitive FLOAT,
  kendall_tau_li_cognitive FLOAT,
  overall_consistency FLOAT,
  h1_action_effectiveness_validated BOOLEAN,
  h2_explanation_difficulty_validated BOOLEAN,
  convergence_status TEXT
);
```

## üéØ Roadmap d'Impl√©mentation - R√âVIS√â

### üöÄ **Phase 1 : Impl√©mentation ConversationalPatternAlgorithm (Priorit√© IMM√âDIATE)**

#### **1.1 Algorithme d'Analyse Structurelle (2-3 jours)**

```typescript
// √Ä cr√©er : ConversationalPatternAlgorithm.ts
class ConversationalPatternAlgorithm extends BasicAlignmentAlgorithm {
  // Analyse des paires adjacentes conseiller‚Üíclient
  // D√©tection des types d'alignment structurel
  // Calcul de coh√©rence pragmatique par famille
  // Comparaison avec BasicAlgorithm (sentiment)
}
```

**R√©f√©rences Scientifiques** :

- Schegloff & Sacks (1973) : Adjacency Pairs Theory
- Pomerantz (1984) : Preference Organization
- Drew & Heritage (1992) : Professional Interaction
- Heritage & Sefi (1992) : Advice Reception

#### **1.2 Interface Comparative Multi-Algorithmes (1-2 jours)**

```typescript
// √Ä modifier : FeedbackAlignmentInterface.tsx
<AlgorithmComparisonView
  algorithms={["basic", "conversational-pattern"]}
  results={comparisonResults}
  showSideBySide={true}
  showConvergenceMetrics={true}
/>
```

#### **1.3 Documentation Scientifique & Export Th√®se (1-2 jours)**

- G√©n√©ration automatique de tableaux comparatifs (LaTeX)
- Graphiques de corr√©lation Sentiment/Alignment
- Justification m√©thodologique CA vs Sentiment Analysis
- M√©triques de validation scientifique

### üîÑ **Phase 2 : Framework Core (1-2 semaines)**

#### **2.1 Architecture de base**

```typescript
// √Ä cr√©er : metrics-framework/core/
- BaseIndicator.ts           # Classe abstraite
- AlgorithmStrategy.ts       # Interface algorithmes
- MetricsEngine.ts          # Moteur unifi√©
- types/ (base, indicators, algorithms, results)
```

#### **2.2 Registry pattern**

```typescript
// √Ä cr√©er : MetricsRegistry.ts
class MetricsRegistry {
  registerIndicator(indicator: BaseIndicator): void;
  getIndicator(id: string): BaseIndicator;
  getAlgorithms(indicatorId: string): AlgorithmStrategy[];
  runComparison(indicatorId: string, algorithms: string[]): ComparisonResult;
}
```

#### **2.3 Hook principal unifi√©**

```typescript
// √Ä cr√©er : useMetricsEngine.ts
export const useMetricsEngine = (config: MetricsEngineConfig) => {
  return {
    indicators: BaseIndicator[],
    results: Record<string, IndicatorResult>,
    compareAlgorithms: (algorithms: string[]) => Promise<AlgorithmComparison>,
    runBenchmark: (testData: AnnotatedData[]) => Promise<BenchmarkResults>
  };
};
```

### üîÑ **Phase 3 : Migration M√©triques Cognitives (1-2 semaines)**

#### **3.1 Migration FluiditeCognitiveIndicator**

```typescript
// √âtape 1 : Cr√©er structure framework
cognitive-metrics/indicators/FluiditeCognitiveIndicator/
‚îú‚îÄ‚îÄ algorithms/BasicFluidityAlgorithm.
```
