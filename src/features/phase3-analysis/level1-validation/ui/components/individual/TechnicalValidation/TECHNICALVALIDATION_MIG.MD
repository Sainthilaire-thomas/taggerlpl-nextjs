## TechnicalValidation Actuel - DÃ©tail de l'ImplÃ©mentation

### Structure Actuelle du TechnicalValidation

```
TechnicalValidation/
â”œâ”€â”€ TechnicalValidation.tsx          # Composant principal orchestrateur
â”œâ”€â”€ RunPanel.tsx                     # Configuration et lancement des tests
â”œâ”€â”€ MetricsPanel.tsx                 # Affichage des mÃ©triques de performance
â”œâ”€â”€ ResultsSample/                   # Module de gestion des rÃ©sultats
â”‚   â”œâ”€â”€ ResultsPanel.tsx             # Interface principale rÃ©sultats
â”‚   â”œâ”€â”€ components/                  # Sous-composants spÃ©cialisÃ©s
â”‚   â”‚   â”œâ”€â”€ ResultsTableHeader.tsx   # En-tÃªte avec mÃ©triques synthÃ©tiques
â”‚   â”‚   â”œâ”€â”€ ResultsFilters.tsx       # Filtres de recherche
â”‚   â”‚   â”œâ”€â”€ ResultsTableBody.tsx     # Corps du tableau avec pagination
â”‚   â”‚   â””â”€â”€ FineTuningDialog.tsx     # Export pour fine-tuning
â”‚   â”œâ”€â”€ hooks/                       # Logique mÃ©tier
â”‚   â”‚   â”œâ”€â”€ useResultsFiltering.ts   # Filtrage des rÃ©sultats
â”‚   â”‚   â”œâ”€â”€ useResultsPagination.ts  # Pagination intelligente
â”‚   â”‚   â””â”€â”€ useFineTuningExtractor.ts # Extraction donnÃ©es fine-tuning
â”‚   â””â”€â”€ types.ts                     # Types spÃ©cifiques au module
â””â”€â”€ index.ts                         # Exports centralisÃ©s
```

### FonctionnalitÃ©s ClÃ©s du TechnicalValidation Actuel

#### 1. **TechnicalValidation.tsx** - Orchestrateur Principal

typescript

```typescript
ğŸ¯ ResponsabilitÃ©s:
-Gestion de l'Ã©tat global du test(selectedClassifier, testResults, isRunning)
-Coordination entre ClassifierSelector,RunPanel,MetricsPanel,ResultsPanel
-Interface avec useLevel1Testing pour validation algorithmes
-Gestion des erreurs et feedback utilisateur
- Ã‰tat complexe avec Ã©vitement des boucles infinies

ğŸ”§ FonctionnalitÃ©s techniques :
-Auto-ajustement sampleSize basÃ© sur goldStandardData
-Callback stable runValidation avec dÃ©pendances explicites
-Guard clauses pour Ã©viter render avant chargement donnÃ©es
-Support batch testing et configuration dynamique
```

#### 2. **RunPanel.tsx** - Interface de Lancement

typescript

```typescript
ğŸ¯ ResponsabilitÃ©s:
-Slider intelligent pour sÃ©lection taille Ã©chantillon
-Badges de statut(configuration valide, domaine, support batch)
-Validation en temps rÃ©el des paramÃ¨tres
-Bouton de lancement avec feedback visuel

ğŸ”§ CaractÃ©ristiques:
-Calcul automatique min/max/step basÃ© sur goldStandardCount
-Tooltips informatifs sur les limitations
-Indicateurs visuels de l'Ã©tat du classificateur
```

#### 3. **MetricsPanel.tsx** - MÃ©triques de Performance

typescript

```typescript
ğŸ¯ MÃ©triques affichÃ©es :
-Accuracy globale avec progress bar
-Precision/Recall/F1 par catÃ©gorie(tableau dÃ©taillÃ©)
-Temps de traitement moyen
-Score de confiance moyen
-Kappa de Cohen(accord algorithme-expert)

ğŸ”§ PrÃ©sentation:
-Tuiles mÃ©triques synthÃ©tiques
-Tableau dÃ©taillÃ© par tag
-Codes couleur selon performance(vert >80%, rouge <60%)
-InterprÃ©tation automatique des scores
```

#### 4. **ResultsPanel.tsx** - Gestion AvancÃ©e des RÃ©sultats

typescript

```typescript
ğŸ¯ FonctionnalitÃ©s principales :
-Switch"Afficher tous les rÃ©sultats" vs pagination
-Filtrage multi-critÃ¨res(tags prÃ©dits/rÃ©els, texte libre)
-Export fine-tuning pour amÃ©lioration algorithmes
-Tableau interactif avec tri et recherche

ğŸ”§ Optimisations:
-Modepagination(25/50/100 par page) vs affichage total
-Filtrage en temps rÃ©el sans re-render complet
-Warningperformance si >100 rÃ©sultats affichÃ©s
-Hooks spÃ©cialisÃ©s pour filtrage et pagination
```

### Interface de VÃ©rification Actuelle

#### Type de DonnÃ©es VÃ©rifiÃ©es

typescript

```typescript
interfaceTVValidationResult{
  verbatim:string;// Texte d'entrÃ©e
  goldStandard:string;// Tag gold standard
  predicted:string;// Tag prÃ©dit par algorithme
  confidence:number;// Score de confiance [0-1]
  correct:boolean;// Classification correcte ?
  processingTime?:number;// Temps traitement (ms)
  metadata?:Record<string,any>;// DonnÃ©es contextuelles
}
```

#### Interface de VÃ©rification Visuelle

```
ğŸ“‹ Tableau des RÃ©sultats :
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Verbatim        â”‚ Gold Standard   â”‚ PrÃ©dit          â”‚ Confiance   â”‚ Statut  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ "je vÃ©rifie..." â”‚ ENGAGEMENT      â”‚ ENGAGEMENT      â”‚ 0.89        â”‚ âœ… OK   â”‚
â”‚ "notre policy"  â”‚ EXPLICATION     â”‚ ENGAGEMENT      â”‚ 0.45        â”‚ âŒ ERR  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ” Filtres disponibles :
- Par tag gold standard (ENGAGEMENT, EXPLICATION, etc.)
- Par tag prÃ©dit
- Erreurs uniquement (disagreements)
- Recherche textuelle libre dans verbatim
```

---

## Adaptation NÃ©cessaire pour la Nouvelle Structure

### ProblÃ¨me : Interface GÃ©nÃ©rique Non AdaptÃ©e aux Variables

Le TechnicalValidation actuel traite **uniformÃ©ment** tous les classificateurs avec la mÃªme interface :

- Verbatim â†’ Tag prÃ©dit vs Gold Standard
- MÃ©triques identiques pour tous (Accuracy, F1, etc.)
- MÃªme format de rÃ©sultats

**Mais selon la nouvelle structure, chaque variable nÃ©cessite une interface diffÃ©rente :**

### Variables X et Y (Classifications)

```
âœ… COMPATIBLE avec TechnicalValidation actuel
- Interface : Verbatim â†’ Tag vs Gold Standard
- MÃ©triques : Accuracy, F1, Matrice confusion
- VÃ©rification : Tableau verbatim + tags
```

### Variable M1 (Verbes d'Action)

```
âŒ NÃ‰CESSITE NOUVELLE INTERFACE
- Interface : Verbatim â†’ Score M1 + visualisation verbes
- MÃ©triques : DensitÃ© moyenne, distribution, corrÃ©lation avec gold
- VÃ©rification : Verbatim avec surlignage verbes dÃ©tectÃ©s

ğŸ†• M1ValidationInterface.tsx nÃ©cessaire :
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Verbatim avec verbes surlignÃ©s          â”‚ Score M1    â”‚ Verbes dÃ©tectÃ©s â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ "je [vÃ©rifie] votre [dossier]"          â”‚ 0.33 (2/6)  â”‚ vÃ©rifie, ?      â”‚
â”‚ "notre politique [prÃ©voit] que..."      â”‚ 0.11 (1/9)  â”‚ prÃ©voit         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Variable M2 (Alignement)

```
âŒ NÃ‰CESSITE NOUVELLE INTERFACE
- Interface : Paire adjacente â†’ Score alignement + dÃ©tails
- MÃ©triques : Alignement lexical, sÃ©mantique, prosodique
- VÃ©rification : Deux verbatims + indicateurs alignement

ğŸ†• M2ValidationInterface.tsx nÃ©cessaire :
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Paire Conseiller â†’ Client                                       â”‚ Scores M2   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [C] "je vÃ©rifie votre dossier"                                  â”‚ Lexical: 0.6â”‚
â”‚ [Client] "d'accord pour la vÃ©rification"                        â”‚ SÃ©mant.: 0.8â”‚
â”‚ ğŸ”— Mots partagÃ©s: vÃ©rifie/vÃ©rification                         â”‚ Global: 0.7 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Variable M3 (Charge Cognitive)

```
âŒ NÃ‰CESSITE NOUVELLE INTERFACE
- Interface : Tour client â†’ Indicateurs charge + score
- MÃ©triques : Nb pauses, hÃ©sitations, instabilitÃ© prosodique
- VÃ©rification : Verbatim client avec marqueurs dÃ©tectÃ©s

ğŸ†• M3ValidationInterface.tsx nÃ©cessaire :
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Verbatim Client avec marqueurs                                  â”‚ Score M3    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ "euh... [PAUSE 800ms] je ne... [HÃ‰S] comprends pas bien"        â”‚ 0.75 (Ã©levÃ©)â”‚
â”‚ â¸ï¸ 1 pause >500ms  ğŸ¤” 2 hÃ©sitations  ğŸ“ˆ prosodie instable       â”‚ Marqueurs: 3â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Plan de Migration DÃ©taillÃ© pour TechnicalValidation

### Phase 1 : Extraction et GÃ©nÃ©ralisation

```
ğŸ”„ EXTRAIRE les composants rÃ©utilisables :
- RunPanel.tsx â†’ peut Ãªtre gÃ©nÃ©ralisÃ©
- Hooks (useResultsFiltering, useResultsPagination) â†’ rÃ©utilisables
- Types de base â†’ adapter par variable

ğŸ†• CRÃ‰ER BaseAlgorithmTesting.tsx :
- Interface commune (RunPanel + Ã©tat global)
- Props gÃ©nÃ©riques pour customisation
- SystÃ¨me de plugins pour mÃ©triques spÃ©cifiques
```

### Phase 2 : SpÃ©cialisation par Variable

```
ğŸ†• XAlgorithmTesting.tsx (hÃ©rite de BaseAlgorithmTesting) :
- Interface : TechnicalValidation actuel adaptÃ©
- MÃ©triques : Accuracy, F1, Matrice confusion
- ResultsPanel : tableau verbatim â†’ tag

ğŸ†• YAlgorithmTesting.tsx (hÃ©rite de BaseAlgorithmTesting) :
- Interface : similaire Ã  X mais pour rÃ©actions client
- MÃ©triques : idem X mais adapted next_turn_verbatim
- ResultsPanel : tableau next_turn â†’ rÃ©action

ğŸ†• M1AlgorithmTesting.tsx (NOUVEAU) :
- Interface : spÃ©cialisÃ©e verbes d'action
- MÃ©triques : densitÃ©, corrÃ©lation, distribution
- ResultsPanel : verbatim avec surlignage verbes

ğŸ†• M2AlgorithmTesting.tsx (NOUVEAU) :
- Interface : spÃ©cialisÃ©e alignement
- MÃ©triques : scores lexical/sÃ©mantique/prosodique
- ResultsPanel : paires avec indicateurs alignement

ğŸ†• M3AlgorithmTesting.tsx (NOUVEAU) :
- Interface : spÃ©cialisÃ©e charge cognitive
- MÃ©triques : pauses, hÃ©sitations, instabilitÃ©
- ResultsPanel : tours client avec marqueurs charge
```

### Phase 3 : Mise Ã  Jour Level1Interface

```
ğŸ“ ADAPTER Level1Interface.tsx :
- Navigation par variable (X, Y, M1, M2, M3)
- Tabs spÃ©cialisÃ©s pour chaque interface
- Gestion Ã©tat global par variable
- CohÃ©rence UX entre interfaces
```

### Code d'Exemple - BaseAlgorithmTesting

typescript

```typescript
// Composant abstrait rÃ©utilisable
interfaceBaseAlgorithmTestingProps<T>{
  variableType:'X'|'Y'|'M1'|'M2'|'M3';
  algorithmsRegistry:AlgorithmRegistry<T>;
goldStandardExtractor:(data:any)=>T[];
metricsCalculator:(results:ValidationResult<T>[])=>Metrics;
  resultsRenderer:React.ComponentType<{results:ValidationResult<T>[]}>;
}

exportfunctionBaseAlgorithmTesting<T>({
  variableType,
  algorithmsRegistry,
  goldStandardExtractor,
  metricsCalculator,
  resultsRenderer:ResultsRenderer
}:BaseAlgorithmTestingProps<T>){
// Logique commune (Ã©tat, hooks, validation)
// Rendu avec composants customisÃ©s

return(
<Box>
<RunPanel{...runPanelProps}/>
<MetricsPanel calculator={metricsCalculator}/>
<ResultsRenderer results={testResults}/>
</Box>
);
}
```

### Avantages de cette Approche

1. **RÃ©utilisation maximale** : RunPanel, hooks, logique commune
2. **SpÃ©cialisation claire** : Interface adaptÃ©e Ã  chaque variable
3. **Maintenance facilitÃ©e** : Un bug fixÃ© dans Base profite Ã  tous
4. **ExtensibilitÃ©** : Facile d'ajouter nouvelles variables
5. **CohÃ©rence UX** : Structure similaire mais contenu adaptÃ©

Cette migration prÃ©serve les acquis du TechnicalValidation actuel tout en l'adaptant aux besoins spÃ©cifiques de chaque variable de la thÃ¨se.
